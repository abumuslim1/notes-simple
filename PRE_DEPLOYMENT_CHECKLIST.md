# ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º Notes Service

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ Timeweb Cloud.

## üìã –§–∞–π–ª—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [x] **Dockerfile** - –û–±–Ω–æ–≤–ª–µ–Ω —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
  - ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ patches –Ω–∞ —ç—Ç–∞–ø–µ builder
  - ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ patches –Ω–∞ —ç—Ç–∞–ø–µ runtime
  - ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ wget –¥–ª—è healthcheck
  - ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ drizzle –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ drizzle —Å—Ö–µ–º—ã

- [x] **docker-compose.yml** - –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
  - ‚úÖ –ü–æ—Ä—Ç 3000 –æ—Ç–∫—Ä—ã—Ç
  - ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
  - ‚úÖ Volume –¥–ª—è –ë–î —Å–æ–∑–¥–∞–Ω
  - ‚úÖ Healthcheck –Ω–∞—Å—Ç—Ä–æ–µ–Ω
  - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞

- [x] **.dockerignore** - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
  - ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω—ã –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
  - ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ –æ–±—Ä–∞–∑
  - ‚úÖ node_modules –∏—Å–∫–ª—é—á–µ–Ω—ã

- [x] **deploy-timeweb.sh** - –ü—Ä–æ–≤–µ—Ä–µ–Ω
  - ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
  - ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
  - ‚úÖ –ü—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- [x] **package.json** - –°–∫—Ä–∏–ø—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
  - ‚úÖ `build` - –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - ‚úÖ `start` - –ó–∞–ø—É—Å–∫ –≤ production
  - ‚úÖ `db:push` - –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

- [x] **patches/** - –ü–∞—Ç—á–∏ –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  - ‚úÖ wouter@3.7.1.patch –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

- [x] **drizzle/** - –°—Ö–µ–º–∞ –ë–î
  - ‚úÖ schema.ts —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  - ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã

- [x] **server/** - –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥
  - ‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∞ –º–µ—Å—Ç–µ
  - ‚úÖ SDK –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (–∫—É–∫–∏)

- [x] **client/** - –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥
  - ‚úÖ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- [x] **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∫—É–∫–∞–º–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
  - ‚úÖ –§–ª–∞–≥ `secure` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç NODE_ENV
  - ‚úÖ Development: secure=false (HTTP)
  - ‚úÖ Production: secure=true (HTTPS)

- [x] **–ü—Ä–æ–±–ª–µ–º–∞ —Å patches –≤ Docker**
  - ‚úÖ patches –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ builder
  - ‚úÖ patches –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ runtime
  - ‚úÖ pnpm –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –≤—Å–µ –ø–∞—Ç—á–∏

- [x] **–ü—Ä–æ–±–ª–µ–º–∞ —Å healthcheck**
  - ‚úÖ wget —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –æ–±—Ä–∞–∑–µ
  - ‚úÖ Healthcheck —Ä–∞–±–æ—Ç–∞–µ—Ç

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [x] **INSTALL_TIMEWEB.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [x] **QUICK_START.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [x] **README_TIMEWEB.md** - –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞
- [x] **TIMEWEB_DEPLOYMENT.md** - –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- [x] **BUGFIXES.md** - –û–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- [x] **DEPLOYMENT_FILES.md** - –°–≤–æ–¥–∫–∞ —Ñ–∞–π–ª–æ–≤

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
ssh root@your-server-ip
curl -O https://raw.githubusercontent.com/abumuslim1/notes-simple/release/deploy-timeweb.sh
chmod +x deploy-timeweb.sh
sudo ./deploy-timeweb.sh
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd /opt
git clone -b release https://github.com/abumuslim1/notes-simple.git notes-service
cd notes-service
docker-compose up -d --build
```

## ‚úÖ –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**
   ```bash
   docker-compose logs -f app
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å**
   ```bash
   docker-compose ps
   ```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   ```
   http://your-server-ip:3000
   ```

4. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
   - –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ INSTALL_TIMEWEB.md

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] –ò–∑–º–µ–Ω–∏—Ç–µ JWT_SECRET –≤ .env
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è
- [ ] –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î
- [ ] –û—Ç–∫–ª—é—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞)

## üìä –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞

- **–û–°:** Ubuntu 20.04+ / Debian 10+
- **CPU:** 1+ —è–¥—Ä–æ
- **RAM:** 2GB+
- **SSD:** 20GB+
- **–ü–æ—Ä—Ç—ã:** 22 (SSH), 80 (HTTP), 443 (HTTPS)

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

‚úÖ Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã  
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ  
‚úÖ –ë–î SQLite —Å–æ–∑–¥–∞–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 3000  
‚úÖ Healthcheck –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ  
‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫  

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs app`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `docker-compose ps`
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ—Å—å: `docker-compose restart`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã: `netstat -tulpn | grep 3000`
5. –°–º–æ—Ç—Ä–∏—Ç–µ INSTALL_TIMEWEB.md —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º"

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- GitHub Issues: https://github.com/abumuslim1/notes-simple/issues
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: INSTALL_TIMEWEB.md
- –õ–æ–≥–∏: `docker-compose logs -f app`

---

**–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!** üöÄ

–ù–∞—á–Ω–∏—Ç–µ —Å –∫–æ–º–∞–Ω–¥—ã:
```bash
sudo ./deploy-timeweb.sh
```
